<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<body>
	<ui:composition template="../template.xhtml">
		
		<ui:define name="content">
			<h:form id="uploadForm" enctype="multipart/form-data">
			
			<p:fileUpload 
						fileUploadListener="#{importInvoicesFromTabFileController.handleFileUpload}"  
			            mode="advanced"  
		    	        update="uploadMessages importInvoices"  
		        	    auto="true"  
		            	sizeLimit="15240000"
		            	invalidSizeMessage="El archivo que intenta cargar supera el tama\u00f1o m\u00e1ximo 10 MB"
		            	allowTypes="/(\.|\/)(txt)$/"
		            	label="Seleccionar" />
					
					<p:commandButton id="importInvoices"
						value="Importar" 
						action="importInvoicesFromTabFile?faces-redirect=true"
						actionListener="#{importInvoicesFromTabFileController.startImportationListener}"
						ajax="false"
						disabled="#{importInvoicesFromTabFileController.disableImport}" />
		  
		    		<p:growl id="uploadMessages" showDetail="true"/>
    		
			</h:form>
		</ui:define>
		
	</ui:composition>
</body>
</html>
